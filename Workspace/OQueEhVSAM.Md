| O que é VSAM?  Conceitos do z/OS                             |
| ------------------------------------------------------------ |
| ![img](https://www.ibm.com/docs/en/zosbasics/com.ibm.zaddinfo.doc/dblue_rule.gif)O termo **Método de Acesso ao Armazenamento Virtual** (VSAM) se aplica tanto a um tipo de conjunto de dados quanto ao método de acesso usado para gerenciar vários tipos de dados do usuário.Como método de acesso, o VSAM oferece funções muito mais complexas do que outros métodos de acesso a disco. O VSAM mantém os registros do disco em um formato exclusivo que não é compreensível por outros métodos de acesso.O VSAM é usado principalmente para aplicativos. Não é usado para programas de origem, JCL ou módulos executáveis. Arquivos VSAM não podem ser exibidos ou editados rotineiramente com ISPF.Você pode usar o VSAM para organizar registros em quatro tipos de conjuntos de dados: sequenciados por chave, sequenciados por entrada, lineares ou relativos. A principal diferença entre esses tipos de conjuntos de dados é a maneira como seus registros são armazenados e acessados.Os conjuntos de dados VSAM são descritos resumidamente da seguinte forma:Conjunto de Dados de Sequência de Chaves (KSDS)Este tipo é o uso mais comum para VSAM. Cada registro possui um ou mais campos-chave e um registro pode ser recuperado (ou inserido) por valor-chave. Isso fornece acesso aleatório aos dados. Os registros têm comprimento variável. O IMS™ utiliza KDSDs.Conjunto de dados de sequência de entrada (ESDS)Esta forma de VSAM mantém os registros em ordem sequencial. Os registros podem ser acessados sequencialmente. É usada por IMS, DB2® e z/OS® UNIX®.Conjunto de dados de registros relativos (RRDS)Este formato VSAM permite a recuperação de registros por número: registro 1, registro 2 e assim por diante. Isso fornece acesso aleatório e pressupõe que o programa aplicativo tenha uma maneira de derivar os números de registro desejados.Conjunto de Dados Lineares (LDS)Este tipo é, na verdade, um conjunto de dados de fluxo de bytes e é a única forma de conjunto de dados de fluxo de bytes em arquivos z/OS tradicionais (ao contrário dos arquivos z/OS UNIX). O DB2 e diversas funções do sistema z/OS usam bastante esse formato, mas ele raramente é usado por programas aplicativos.Vários métodos adicionais de acesso a dados em VSAM não estão listados aqui. A maioria dos aplicativos usa VSAM para dados codificados.O VSAM trabalha com uma área de dados lógica conhecida como intervalo de controle (IC), diagramada na [Figura 1.](https://www.ibm.com/docs/en/zos-basic-skills?topic=set-what-is-vsam#zconcepts_169__vsamci) O tamanho padrão do IC é de 4 Kbytes, mas pode ter até 32 Kbytes. O IC contém registros de dados, espaço não utilizado, campos descritores de registro (RDFs) e um campo descritor de IC.*Figura 1. Intervalo de controle VSAM simples*![img](https://www.ibm.com/docs/en/zosbasics/com.ibm.zos.zconcepts/zOSB022.gif)Vários ICs são colocados em uma área de controle (AC). Um conjunto de dados VSAM consiste em áreas de controle e registros de índice. Um tipo de registro de índice é o conjunto de sequências, que é o índice de nível mais baixo que aponta para um intervalo de controle.Os dados VSAM têm sempre comprimento variável e os registros são bloqueados automaticamente em intervalos de controle. Os atributos RECFM (F, FB, V, VB, U) não se aplicam ao VSAM, nem o atributo BLKSIZE. Você pode usar o utilitário Access Method Services (AMS) para definir e excluir estruturas VSAM, como arquivos e índices. [A definição de um KSDS VSAM usando o AMS](https://www.ibm.com/docs/en/zosbasics/com.ibm.zos.zconcepts/zconcepts_169.htm#zconcepts_169__vsamams) mostra um exemplo.`DEFINIR CLUSTER - (NOME(VWX.MEUSDADOS) - VOLUMES(VSER02) - REGISTROS(1000 500)) - DADOS - (NOME(VWX.KSDATA) - CHAVES(15 0) - TAMANHO DO RECORDE (250 250) - ESPAÇO DE BUFFER(25000) ) - ÍNDICE - (NOME(VWX.KSINDEX) - CATÁLOGO (UCAT1)`Muitos detalhes do processamento do VSAM não estão incluídos nesta breve descrição. A maior parte do processamento é realizada de forma transparente pelo VSAM; o programa aplicativo apenas recupera, atualiza, exclui ou adiciona registros com base nos valores-chave.**Tópico pai:**[O que é um conjunto de dados?](https://www.ibm.com/docs/en/zosbasics/com.ibm.zos.zconcepts/zconc_datasetintro.htm) |



